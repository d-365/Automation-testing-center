{"version":3,"sources":["webpack:///./src/views/test.vue","webpack:///./src/views/test.vue?4b74"],"names":["initWebSocket","ws","WebSocket","onclose","onopen","console","log","send","onmessage","message","onerror","clickBt","param","request","get","params","error","__exports__"],"mappings":"wKAWI,IAAMA,EAAgB,WAClB,IAAMC,EAAK,IAAIC,UAAU,uCAUzB,OATAD,EAAGE,QAAWA,EACdF,EAAGG,OAAU,WACTC,QAAQC,IAAI,UACZL,EAAGM,KAAK,YAEZN,EAAGO,UAAY,SAACC,GACZJ,QAAQC,IAAIG,IAEhBR,EAAGS,QAAUA,EACNT,GAGLU,EAAU,WACZ,IAAMC,EAAQ,CACVH,QAAS,WAEbI,EAAA,KAAQC,IAAI,qBAAqB,CAACC,OAAOH,KAIvCT,EAAU,WAEZE,QAAQC,IAAI,WAIVI,EAAU,SAACM,GACbX,QAAQC,IAAIU,I,OAIhB,4BAAc,WACVhB,O,wLC1CR,MAAMiB,EAAc,EAEL","file":"static/js/chunk-2d0b30b7.0c51ae7a.js","sourcesContent":["<template>\r\n    <div>\r\n        <el-button @click=\"clickBt\"></el-button>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\n\r\n    import request from \"../utils/request\";\r\n    import {onBeforeMount, reactive, ref} from \"vue\"\r\n\r\n    const initWebSocket = ()=>{\r\n        const ws = new WebSocket('ws://localhost:1997/webSocket/10086');\r\n        ws.onclose  = onclose\r\n        ws.onopen  = ()=>{\r\n            console.log('ws连接成功');\r\n            ws.send(\"客户端发送数据\");\r\n        }\r\n        ws.onmessage = (message)=>{\r\n            console.log(message)\r\n        }\r\n        ws.onerror = onerror\r\n        return ws;\r\n    }\r\n\r\n    const clickBt = ()=>{\r\n        const param = {\r\n            message: \"客户端发送数据\"\r\n        }\r\n        request.get(\"/api/socket/accept\",{params:param})\r\n    }\r\n\r\n    // 监听连接关闭事件\r\n    const onclose = ()=> {\r\n        // 监听整个过程中websocket的状态\r\n        console.log('ws连接关闭');\r\n    }\r\n\r\n    // 监听并处理error事件\r\n    const onerror = (error) => {\r\n        console.log(error);\r\n    }\r\n\r\n//-------------------声明周期\r\n    onBeforeMount(()=>{\r\n        initWebSocket()\r\n    })\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import script from \"./test.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./test.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"sourceRoot":""}