{"version":3,"sources":["webpack:///./src/views/user/login.vue?9c63","webpack:///./src/video/login.mp4","webpack:///./src/global.js","webpack:///./src/views/user/login.vue","webpack:///./src/views/user/login.vue?4d6f"],"names":["module","exports","apiId","currentEnvId","set_ApiId","this","set_currentEnv","envId","class","src","alt","style","playsinline","loop","autoplay","muted","model","login_form","ref","rules","login_rules","label-position","label","prop","type","account","clearable","password","show-password","login","name","components","data","required","message","trigger","methods","formName","$refs","validate","valid","request","post","then","res","code","localStorage","setItem","token","id","loginInfo","$router","push","$message","msg","userId","payload","$store","commit","__exports__","render"],"mappings":"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","file":"static/js/chunk-442ae8a8.f6d38682.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./login.vue?vue&type=style&index=0&id=8e91135c&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"static/media/login.81229cf9.mp4\";","export default{\r\n    //接口ID\r\n    apiId:0,\r\n    //环境ID\r\n    currentEnvId:null,\r\n    set_ApiId(apiId){\r\n        this.apiId = apiId;\r\n    },\r\n    set_currentEnv(envId){\r\n        this.currentEnvId = envId\r\n    },\r\n}","<template>\r\n    <div class=\"myBody\">\r\n        <div class=\"login-body\" >\r\n            <!--登录框div-->\r\n            <div class=\"login-container\">\r\n                <!--登录框头部logo部分-->\r\n                <div class=\"head\">\r\n                    <img class=\"logo\" src=\"https://s.weituibao.com/1582958061265/mlogo.png\"  alt=\"图片无法加载！！！\"/>\r\n                    <div class=\"name\">\r\n                        <div class=\"tips\"><b>测试平台</b></div>\r\n                    </div>\r\n                </div>\r\n                <!--登录表单-->\r\n                <el-form :model=\"login_form\" class=\"login-form\" ref=\"ruleForm\"  :rules=\"login_rules\" label-position=\"left\">\r\n                    <el-form-item label=\"账号\" prop=\"account\">\r\n                        <el-input class=\"input-length\" type=\"text\"  v-model=\"login_form.account\" clearable></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"密码\" prop=\"password\">\r\n                        <el-input class=\"input-length\" type=\"password\" v-model=\"login_form.password\" clearable show-password></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item>\r\n                        <div style=\"text-align: center;\">\r\n                            <el-button style=\"width: 150px\"  type=\"primary\" @click=\"login('ruleForm')\">立即登录</el-button>\r\n                        </div>\r\n                    </el-form-item>\r\n                </el-form>\r\n            </div>\r\n        </div>\r\n        <div class=\"other\">\r\n            <div class=\"other-data\" >\r\n                <video style=\"height: 878px;width: 50vw\" src=\"../../video/login.mp4\"  playsinline loop autoplay muted></video>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import request from \"../../utils/request\";\r\n    import global from \"../../global\";\r\n\r\n    export default {\r\n        name: \"login\",\r\n        components:{\r\n        },\r\n        data(){\r\n            return{\r\n                login_form:{\r\n                    account:null,\r\n                    password:null,\r\n                },\r\n                login_rules: {\r\n                    account: [\r\n                        {\r\n                            required: true,\r\n                            message: 'Please input account',\r\n                            trigger: 'change',\r\n                        },\r\n                        ],\r\n                    password:[\r\n                        {\r\n                            required: true,\r\n                            message: 'Please input password',\r\n                            trigger: 'change',\r\n                        },\r\n                    ]\r\n                },\r\n            }\r\n        },\r\n        methods:{\r\n            login(formName) {\r\n                this.$refs[formName].validate((valid) => {\r\n                    if (valid) {\r\n                        // 校验通过\r\n                        request.post(\"/api/user/login\", this.login_form).then((res) => {\r\n                            //这里是判断接口是否请求成功\r\n                            if (res.code === \"0\") {\r\n                                //接口请求成功将token请求头存到vuex，再进行路由跳转\r\n                                localStorage.setItem('account',this.login_form.account);\r\n                                localStorage.setItem('token',res.data.token);\r\n                                localStorage.setItem('userId',res.data.id);\r\n                                localStorage.setItem('envId',res.data.envId);\r\n\r\n                                this.loginInfo(res.data.id)\r\n\r\n                                //登录成功之后进行页面的跳转，跳转到主页\r\n                                // window.location.href = '/'\r\n                                this.$router.push(\"/\")\r\n                                this.$message({\r\n                                    message: \"登录成功\",\r\n                                    type: \"success\",\r\n                                });\r\n                            } else {\r\n                                this.$message({\r\n                                    message:res.msg,\r\n                                    type: \"error\",\r\n                                });\r\n                            }\r\n                        });\r\n                    } else {\r\n                       //校验不通过\r\n                        return false\r\n                    }\r\n                })\r\n            },\r\n            loginInfo(userId){\r\n                const payload = {\"userId\":userId}\r\n                request.post(\"/api/user/loginInfo\",payload).then(res=>{\r\n                    this.$store.commit({\r\n                        type:\"setEnvId\",\r\n                        envId:res.data.envId\r\n                    })\r\n                    if(res.data.envId!=null){\r\n                        localStorage.setItem('envId',res.data.envId);\r\n                    }\r\n                })\r\n            }\r\n        },\r\n    }\r\n</script>\r\n<style scoped>\r\n\r\n    .login-container {\r\n        height: 100%;\r\n        width: 30vw;\r\n        background-color: #fff;\r\n        border-radius: 4px;\r\n        box-shadow: 0 21px 41px 0 rgba(0, 0, 0, 0.2);\r\n    }\r\n    .head {\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        padding: 30vh 0 0 0;\r\n    }\r\n    .head img {\r\n        width: 100px;\r\n        height: 100px;\r\n        margin-right: 20px;\r\n    }\r\n    .head .tips {\r\n        font-size: 12px;\r\n        color: #999;\r\n    }\r\n    .login-form {\r\n        width: 70%;\r\n        margin: 0 auto;\r\n    }\r\n    .myBody {\r\n        margin: 0;\r\n        padding:0;\r\n        height : 97vh ;\r\n        width: 100vw ;\r\n        display:flex;\r\n    }\r\n    .login-body{\r\n        height: 100vh;\r\n        width: 40vw;\r\n        display:flex;\r\n        flex-direction: row;\r\n    }\r\n    .other{\r\n        height: 100vh;\r\n        width: 70vw;\r\n        display:flex;\r\n        position: relative;\r\n        text-align: right;\r\n    }\r\n    .input-length{\r\n       width: 250px;\r\n    }\r\n    .other-data{\r\n        width: 50vw;\r\n        height: 800px;\r\n        right:0;\r\n        position: absolute;\r\n        bottom: 0;\r\n        overflow: hidden;\r\n\r\n    }\r\n</style>","import { render } from \"./login.vue?vue&type=template&id=8e91135c&scoped=true\"\nimport script from \"./login.vue?vue&type=script&lang=js\"\nexport * from \"./login.vue?vue&type=script&lang=js\"\n\nimport \"./login.vue?vue&type=style&index=0&id=8e91135c&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\dujun\\\\Desktop\\\\vue\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-8e91135c\"]])\n\nexport default __exports__"],"sourceRoot":""}