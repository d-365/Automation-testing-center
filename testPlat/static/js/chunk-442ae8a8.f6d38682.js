(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-442ae8a8"],{"08d3":function(e,t,n){"use strict";n("2346")},"22a0":function(e,t,n){e.exports=n.p+"static/media/login.81229cf9.mp4"},2346:function(e,t,n){},2919:function(e,t,n){"use strict";t["a"]={apiId:0,currentEnvId:null,set_ApiId:function(e){this.apiId=e},set_currentEnv:function(e){this.currentEnvId=e}}},"71a8":function(e,t,n){"use strict";n.r(t);var o=n("7a23"),a=n("22a0"),c=n.n(a),l=function(e){return Object(o["pushScopeId"])("data-v-8e91135c"),e=e(),Object(o["popScopeId"])(),e},r={class:"myBody"},s={class:"login-body"},i={class:"login-container"},d=l((function(){return Object(o["createElementVNode"])("div",{class:"head"},[Object(o["createElementVNode"])("img",{class:"logo",src:"https://s.weituibao.com/1582958061265/mlogo.png",alt:"图片无法加载！！！"}),Object(o["createElementVNode"])("div",{class:"name"},[Object(o["createElementVNode"])("div",{class:"tips"},[Object(o["createElementVNode"])("b",null,"测试平台")])])],-1)})),u={style:{"text-align":"center"}},m=Object(o["createTextVNode"])("立即登录"),p=l((function(){return Object(o["createElementVNode"])("div",{class:"other"},[Object(o["createElementVNode"])("div",{class:"other-data"},[Object(o["createElementVNode"])("video",{style:{height:"878px",width:"50vw"},src:c.a,playsinline:"",loop:"",autoplay:"",muted:""})])],-1)}));function f(e,t,n,a,c,l){var f=Object(o["resolveComponent"])("el-input"),g=Object(o["resolveComponent"])("el-form-item"),b=Object(o["resolveComponent"])("el-button"),v=Object(o["resolveComponent"])("el-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",r,[Object(o["createElementVNode"])("div",s,[Object(o["createElementVNode"])("div",i,[d,Object(o["createVNode"])(v,{model:c.login_form,class:"login-form",ref:"ruleForm",rules:c.login_rules,"label-position":"left"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(g,{label:"账号",prop:"account"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{class:"input-length",type:"text",modelValue:c.login_form.account,"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.login_form.account=e}),clearable:""},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(g,{label:"密码",prop:"password"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{class:"input-length",type:"password",modelValue:c.login_form.password,"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.login_form.password=e}),clearable:"","show-password":""},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(g,null,{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",u,[Object(o["createVNode"])(b,{style:{width:"150px"},type:"primary",onClick:t[2]||(t[2]=function(e){return l.login("ruleForm")})},{default:Object(o["withCtx"])((function(){return[m]})),_:1})])]})),_:1})]})),_:1},8,["model","rules"])])]),p])}var g=n("b775"),b=(n("2919"),{name:"login",components:{},data:function(){return{login_form:{account:null,password:null},login_rules:{account:[{required:!0,message:"Please input account",trigger:"change"}],password:[{required:!0,message:"Please input password",trigger:"change"}]}}},methods:{login:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;g["a"].post("/api/user/login",t.login_form).then((function(e){"0"===e.code?(localStorage.setItem("account",t.login_form.account),localStorage.setItem("token",e.data.token),localStorage.setItem("userId",e.data.id),localStorage.setItem("envId",e.data.envId),t.loginInfo(e.data.id),t.$router.push("/"),t.$message({message:"登录成功",type:"success"})):t.$message({message:e.msg,type:"error"})}))}))},loginInfo:function(e){var t=this,n={userId:e};g["a"].post("/api/user/loginInfo",n).then((function(e){t.$store.commit({type:"setEnvId",envId:e.data.envId}),null!=e.data.envId&&localStorage.setItem("envId",e.data.envId)}))}}}),v=(n("08d3"),n("d959")),j=n.n(v);const O=j()(b,[["render",f],["__scopeId","data-v-8e91135c"]]);t["default"]=O}}]);
//# sourceMappingURL=chunk-442ae8a8.f6d38682.js.map