{"version":3,"sources":["webpack:///./src/views/system_common/action.vue?03dd","webpack:///./node_modules/@element-plus/icons/es/Edit.js","webpack:///./node_modules/core-js/modules/es.string.includes.js","webpack:///./node_modules/core-js/internals/not-a-regexp.js","webpack:///./node_modules/core-js/internals/correct-is-regexp-logic.js","webpack:///./src/views/system_common/action.vue","webpack:///./src/views/system_common/action.vue?50d9"],"names":["script","name","_hoisted_1","xmlns","viewBox","_hoisted_2","fill","d","_hoisted_3","render","_ctx","_cache","$props","$setup","$data","$options","__file","$","uncurryThis","notARegExp","requireObjectCoercible","toString","correctIsRegExpLogic","stringIndexOf","indexOf","target","proto","forced","includes","searchString","this","arguments","length","undefined","global","isRegExp","TypeError","module","exports","it","wellKnownSymbol","MATCH","METHOD_NAME","regexp","error1","error2","updateActionDialog","updateActionData","id","type","actionKey","remark","parentId","headerStyle","commonUtils","tabRowStyle","cellStyle","ActionDetailDialog","actionFilter","currentAction","ActionClick","tab","event","ActionDetailShow","value","props","actionType","init","actionList","actionDetailList","payload","webApi","getActionList","res","data","newAction","parentAction","addAction","action","myAction","updateAction","delAction","messageBox","request","delete","then","filter","item","i","splice","post","showDetail","row","addActionDetail","newVar","oldVar","__exports__"],"mappings":"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","file":"static/js/chunk-5d0d10e6.9f04c7c8.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./action.vue?vue&type=style&index=0&id=f92b91c8&scoped=true&lang=css\"","import { defineComponent, openBlock, createBlock, createVNode } from 'vue';\n\nvar script = defineComponent({\n  name: \"Edit\"\n});\n\nconst _hoisted_1 = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 1024 1024\"\n};\nconst _hoisted_2 = /* @__PURE__ */ createVNode(\"path\", {\n  fill: \"currentColor\",\n  d: \"M832 512a32 32 0 1 1 64 0v352a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h352a32 32 0 0 1 0 64H192v640h640V512z\"\n}, null, -1);\nconst _hoisted_3 = /* @__PURE__ */ createVNode(\"path\", {\n  fill: \"currentColor\",\n  d: \"m469.952 554.24 52.8-7.552L847.104 222.4a32 32 0 1 0-45.248-45.248L477.44 501.44l-7.552 52.8zm422.4-422.4a96 96 0 0 1 0 135.808l-331.84 331.84a32 32 0 0 1-18.112 9.088L436.8 623.68a32 32 0 0 1-36.224-36.224l15.104-105.6a32 32 0 0 1 9.024-18.112l331.904-331.84a96 96 0 0 1 135.744 0z\"\n}, null, -1);\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createBlock(\"svg\", _hoisted_1, [\n    _hoisted_2,\n    _hoisted_3\n  ]);\n}\n\nscript.render = render;\nscript.__file = \"packages/components/Edit.vue\";\n\nexport default script;\n","'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar toString = require('../internals/to-string');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\n\nvar stringIndexOf = uncurryThis(''.indexOf);\n\n// `String.prototype.includes` method\n// https://tc39.es/ecma262/#sec-string.prototype.includes\n$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~stringIndexOf(\n      toString(requireObjectCoercible(this)),\n      toString(notARegExp(searchString)),\n      arguments.length > 1 ? arguments[1] : undefined\n    );\n  }\n});\n","var global = require('../internals/global');\nvar isRegExp = require('../internals/is-regexp');\n\nvar TypeError = global.TypeError;\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (error1) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (error2) { /* empty */ }\n  } return false;\n};\n","<template>\r\n    <div id=\"myAction\">\r\n        <el-tabs v-model=\"currentAction\" @tab-click=\"ActionClick\">\r\n            <el-tab-pane label=\"Web-Action\" name=\"Web\">\r\n                <div class=\"ActionList\">\r\n                    <div class=\"addAction\">\r\n                        <el-input v-model=\"actionFilter\" placeholder=\"Please input\">\r\n                            <template #append>\r\n                                <el-icon color=\"#409EFC\">\r\n                                    <Plus @click=\"ActionDetailDialog = true\"/>\r\n                                </el-icon>\r\n                            </template>\r\n                        </el-input>\r\n                    </div>\r\n                    <div class=\"list\">\r\n                        <el-table :data=\"actionList\" :show-header=\"false\" @row-click=\"showDetail\" highlight-current-row :row-style=\"headerStyle\">\r\n                            <el-table-column prop=\"name\" label=\"name\">\r\n                               <template #default=\"scope\">\r\n                                   <el-input v-show=\"scope.row.show\" v-model=\"scope.row.name\"></el-input>\r\n                                   <span v-show=\"!scope.row.show\">{{scope.row.name}}</span>\r\n                               </template>\r\n                            </el-table-column>\r\n                            <el-table-column label=\"Edit\">\r\n                                <template #default=\"scope\">\r\n                                    <div v-show=\"!scope.row.show\" style=\"padding-right: 10px;text-align: right\">\r\n                                        <el-icon color=\"#409EFC\">\r\n                                            <Edit @click=\"scope.row.show = true\"/>\r\n                                        </el-icon>\r\n                                        <el-icon color=\"#409EFC\">\r\n                                            <Delete @click=\"delAction(scope.row.id)\"/>\r\n                                        </el-icon>\r\n                                    </div>\r\n                                    <el-button v-show=\"scope.row.show\" @click=\"updateAction(scope.row),scope.row.show=false\" type=\"primary\" size=\"small\">save</el-button>\r\n                                </template>\r\n                            </el-table-column>\r\n                        </el-table>\r\n                    </div>\r\n                </div>\r\n                <div class=\"ActionDetail\" v-show=\"ActionDetailShow\">\r\n                    <div class=\"addAction\">\r\n                        <el-button type=\"primary\" @click=\"addActionDetail\">添加Action</el-button>\r\n                    </div>\r\n                    <div class=\"list\">\r\n                        <el-table :data=\"actionDetailList\" :header-row-style=\"headerStyle\" :cell-style=\"cellStyle\">\r\n                            <el-table-column prop=\"name\" label=\"Action名称\"  width=\"150\"/>\r\n                            <el-table-column prop=\"actionKey\" label=\"ActionKey\" width=\"150\"/>\r\n                            <el-table-column prop=\"remark\" label=\"描述\" width=\"500\">\r\n                                <template #default=\"scope\">\r\n                                    <el-popover placement=\"top-start\"\r\n                                                :width=\"400\"\r\n                                                trigger=\"hover\">\r\n                                        <template #reference>\r\n                                            <div style=\"text-overflow: ellipsis; overflow: hidden; white-space: nowrap; margin-left: 15px; width: 490px\">{{scope.row.remark}}</div>\r\n                                        </template>\r\n                                        <div style=\"color: #409EFF\">{{scope.row.remark}}</div>\r\n                                    </el-popover>\r\n                                </template>\r\n                            </el-table-column>\r\n                            <el-table-column label=\"Edit\" header-align=\"center\" align=\"center\">\r\n                                <template #default=\"scope\">\r\n                                    <div>\r\n                                        <el-button type=\"primary\" @click=\"updateActionDialog = true , updateActionData=scope.row\">修改</el-button>\r\n                                        <el-button type=\"warning\" @click=\"delAction(scope.row.id,scope.row)\">删除</el-button>\r\n                                    </div>\r\n                                </template>\r\n                            </el-table-column>\r\n                        </el-table>\r\n                    </div>\r\n                </div>\r\n            </el-tab-pane>\r\n            <el-tab-pane label=\"App-Action\" name=\"App\">\r\n                <div class=\"ActionList\">\r\n                    <div class=\"addAction\">\r\n                        <el-input v-model=\"actionFilter\" placeholder=\"Please input\">\r\n                            <template #append>\r\n                                <el-icon color=\"#409EFC\">\r\n                                    <Plus @click=\"ActionDetailDialog = true\"/>\r\n                                </el-icon>\r\n                            </template>\r\n                        </el-input>\r\n                    </div>\r\n                    <div class=\"list\">\r\n                        <el-table :data=\"actionList\" :show-header=\"false\" @row-click=\"showDetail\" highlight-current-row :row-style=\"headerStyle\">\r\n                            <el-table-column prop=\"name\" label=\"name\">\r\n                                <template #default=\"scope\">\r\n                                    <el-input v-show=\"scope.row.show\" v-model=\"scope.row.name\"></el-input>\r\n                                    <span v-show=\"!scope.row.show\">{{scope.row.name}}</span>\r\n                                </template>\r\n                            </el-table-column>\r\n                            <el-table-column label=\"Edit\">\r\n                                <template #default=\"scope\">\r\n                                    <div v-show=\"!scope.row.show\" style=\"padding-right: 10px;text-align: right\">\r\n                                        <el-icon color=\"#409EFC\">\r\n                                            <Edit @click=\"scope.row.show = true\"/>\r\n                                        </el-icon>\r\n                                        <el-icon color=\"#409EFC\">\r\n                                            <Delete @click=\"delAction(scope.row.id)\"/>\r\n                                        </el-icon>\r\n                                    </div>\r\n                                    <el-button v-show=\"scope.row.show\" @click=\"updateAction(scope.row),scope.row.show=false\" type=\"primary\" size=\"small\">save</el-button>\r\n                                </template>\r\n                            </el-table-column>\r\n                        </el-table>\r\n                    </div>\r\n                </div>\r\n                <div class=\"ActionDetail\" v-show=\"ActionDetailShow\">\r\n                    <div class=\"addAction\">\r\n                        <el-button type=\"primary\" @click=\"addActionDetail\">添加Action</el-button>\r\n                    </div>\r\n                    <div class=\"list\">\r\n                        <el-table :data=\"actionDetailList\" :header-row-style=\"headerStyle\" :cell-style=\"cellStyle\">\r\n                            <el-table-column prop=\"name\" label=\"Action名称\"  width=\"150\"/>\r\n                            <el-table-column prop=\"actionKey\" label=\"ActionKey\" width=\"150\"/>\r\n                            <el-table-column prop=\"remark\" label=\"描述\" width=\"500\">\r\n                                <template #default=\"scope\">\r\n                                    <el-popover placement=\"top-start\"\r\n                                                :width=\"400\"\r\n                                                trigger=\"hover\">\r\n                                        <template #reference>\r\n                                            <div style=\"text-overflow: ellipsis; overflow: hidden; white-space: nowrap; margin-left: 15px; width: 490px\">{{scope.row.remark}}</div>\r\n                                        </template>\r\n                                        <div style=\"color: #409EFF\">{{scope.row.remark}}</div>\r\n                                    </el-popover>\r\n                                </template>\r\n                            </el-table-column>\r\n                            <el-table-column label=\"Edit\" header-align=\"center\" align=\"center\">\r\n                                <template #default=\"scope\">\r\n                                    <div>\r\n                                        <el-button type=\"primary\" @click=\"updateActionDialog = true , updateActionData=scope.row\">修改</el-button>\r\n                                        <el-button type=\"warning\" @click=\"delAction(scope.row.id,scope.row)\">删除</el-button>\r\n                                    </div>\r\n                                </template>\r\n                            </el-table-column>\r\n                        </el-table>\r\n                    </div>\r\n                </div>\r\n            </el-tab-pane>\r\n            <el-tab-pane label=\"Api-Action\" name=\"Api\">\r\n                <div class=\"ActionList\">\r\n                    <div class=\"addAction\">\r\n                        <el-input v-model=\"actionFilter\" placeholder=\"Please input\">\r\n                            <template #append>\r\n                                <el-icon color=\"#409EFC\">\r\n                                    <Plus @click=\"ActionDetailDialog = true\"/>\r\n                                </el-icon>\r\n                            </template>\r\n                        </el-input>\r\n                    </div>\r\n                    <div class=\"list\">\r\n                        <el-table :data=\"actionList\" :show-header=\"false\" @row-click=\"showDetail\" highlight-current-row :row-style=\"headerStyle\">\r\n                            <el-table-column prop=\"name\" label=\"name\">\r\n                                <template #default=\"scope\">\r\n                                    <el-input v-show=\"scope.row.show\" v-model=\"scope.row.name\"></el-input>\r\n                                    <span v-show=\"!scope.row.show\">{{scope.row.name}}</span>\r\n                                </template>\r\n                            </el-table-column>\r\n                            <el-table-column label=\"Edit\">\r\n                                <template #default=\"scope\">\r\n                                    <div v-show=\"!scope.row.show\" style=\"padding-right: 10px;text-align: right\">\r\n                                        <el-icon color=\"#409EFC\">\r\n                                            <Edit @click=\"scope.row.show = true\"/>\r\n                                        </el-icon>\r\n                                        <el-icon color=\"#409EFC\">\r\n                                            <Delete @click=\"delAction(scope.row.id)\"/>\r\n                                        </el-icon>\r\n                                    </div>\r\n                                    <el-button v-show=\"scope.row.show\" @click=\"updateAction(scope.row),scope.row.show=false\" type=\"primary\" size=\"small\">save</el-button>\r\n                                </template>\r\n                            </el-table-column>\r\n                        </el-table>\r\n                    </div>\r\n                </div>\r\n                <div class=\"ActionDetail\" v-show=\"ActionDetailShow\">\r\n                    <div class=\"addAction\">\r\n                        <el-button type=\"primary\" @click=\"addActionDetail\">添加Action</el-button>\r\n                    </div>\r\n                    <div class=\"list\">\r\n                        <el-table :data=\"actionDetailList\" :header-row-style=\"headerStyle\" :cell-style=\"cellStyle\">\r\n                            <el-table-column prop=\"name\" label=\"Action名称\"  width=\"150\"/>\r\n                            <el-table-column prop=\"actionKey\" label=\"ActionKey\" width=\"150\"/>\r\n                            <el-table-column prop=\"remark\" label=\"描述\" width=\"500\">\r\n                                <template #default=\"scope\">\r\n                                    <el-popover placement=\"top-start\"\r\n                                                :width=\"400\"\r\n                                                trigger=\"hover\">\r\n                                        <template #reference>\r\n                                            <div style=\"text-overflow: ellipsis; overflow: hidden; white-space: nowrap; margin-left: 15px; width: 490px\">{{scope.row.remark}}</div>\r\n                                        </template>\r\n                                        <div style=\"color: #409EFF\">{{scope.row.remark}}</div>\r\n                                    </el-popover>\r\n                                </template>\r\n                            </el-table-column>\r\n                            <el-table-column label=\"Edit\" header-align=\"center\" align=\"center\">\r\n                                <template #default=\"scope\">\r\n                                    <div>\r\n                                        <el-button type=\"primary\" @click=\"updateActionDialog = true , updateActionData=scope.row\">修改</el-button>\r\n                                        <el-button type=\"warning\" @click=\"delAction(scope.row.id,scope.row)\">删除</el-button>\r\n                                    </div>\r\n                                </template>\r\n                            </el-table-column>\r\n                        </el-table>\r\n                    </div>\r\n                </div>\r\n            </el-tab-pane>\r\n            <el-tab-pane label=\"前置后置\" name=\"前置后置\">\r\n                <div class=\"ActionList\">\r\n                    <div class=\"addAction\">\r\n                        <el-input v-model=\"actionFilter\" placeholder=\"Please input\">\r\n                            <template #append>\r\n                                <el-icon color=\"#409EFC\">\r\n                                    <Plus @click=\"ActionDetailDialog = true\"/>\r\n                                </el-icon>\r\n                            </template>\r\n                        </el-input>\r\n                    </div>\r\n                    <div class=\"list\">\r\n                        <el-table :data=\"actionList\" :show-header=\"false\" @row-click=\"showDetail\" highlight-current-row :row-style=\"headerStyle\">\r\n                            <el-table-column prop=\"name\" label=\"name\">\r\n                                <template #default=\"scope\">\r\n                                    <el-input v-show=\"scope.row.show\" v-model=\"scope.row.name\"></el-input>\r\n                                    <span v-show=\"!scope.row.show\">{{scope.row.name}}</span>\r\n                                </template>\r\n                            </el-table-column>\r\n                            <el-table-column label=\"Edit\">\r\n                                <template #default=\"scope\">\r\n                                    <div v-show=\"!scope.row.show\" style=\"padding-right: 10px;text-align: right\">\r\n                                        <el-icon color=\"#409EFC\">\r\n                                            <Edit @click=\"scope.row.show = true\"/>\r\n                                        </el-icon>\r\n                                        <el-icon color=\"#409EFC\">\r\n                                            <Delete @click=\"delAction(scope.row.id)\"/>\r\n                                        </el-icon>\r\n                                    </div>\r\n                                    <el-button v-show=\"scope.row.show\" @click=\"updateAction(scope.row),scope.row.show=false\" type=\"primary\" size=\"small\">save</el-button>\r\n                                </template>\r\n                            </el-table-column>\r\n                        </el-table>\r\n                    </div>\r\n                </div>\r\n                <div class=\"ActionDetail\" v-show=\"ActionDetailShow\">\r\n                    <div class=\"addAction\">\r\n                        <el-button type=\"primary\" @click=\"addActionDetail\">添加Action</el-button>\r\n                    </div>\r\n                    <div class=\"list\">\r\n                        <el-table :data=\"actionDetailList\" :header-row-style=\"headerStyle\" :cell-style=\"cellStyle\">\r\n                            <el-table-column prop=\"name\" label=\"Action名称\"  width=\"150\"/>\r\n                            <el-table-column prop=\"actionKey\" label=\"ActionKey\" width=\"150\"/>\r\n                            <el-table-column prop=\"remark\" label=\"描述\" width=\"500\">\r\n                                <template #default=\"scope\">\r\n                                    <el-popover placement=\"top-start\"\r\n                                                :width=\"400\"\r\n                                                trigger=\"hover\">\r\n                                        <template #reference>\r\n                                            <div style=\"text-overflow: ellipsis; overflow: hidden; white-space: nowrap; margin-left: 15px; width: 490px\">{{scope.row.remark}}</div>\r\n                                        </template>\r\n                                        <div style=\"color: #409EFF\">{{scope.row.remark}}</div>\r\n                                    </el-popover>\r\n                                </template>\r\n                            </el-table-column>\r\n                            <el-table-column label=\"Edit\" header-align=\"center\" align=\"center\">\r\n                                <template #default=\"scope\">\r\n                                    <div>\r\n                                        <el-button type=\"primary\" @click=\"updateActionDialog = true , updateActionData=scope.row\">修改</el-button>\r\n                                        <el-button type=\"warning\" @click=\"delAction(scope.row.id,scope.row)\">删除</el-button>\r\n                                    </div>\r\n                                </template>\r\n                            </el-table-column>\r\n                        </el-table>\r\n                    </div>\r\n                </div>\r\n            </el-tab-pane>\r\n        </el-tabs>\r\n    </div>\r\n    <div class=\"hidden\">\r\n        <el-dialog\r\n                v-model=\"ActionDetailDialog\"\r\n                title=\"添加Action\"\r\n                width=\"50%\"\r\n                center\r\n        >\r\n            <el-form :model=\"newAction\" label-width=\"150px\">\r\n                <el-form-item label=\"ActionName\">\r\n                    <el-input style=\"width: 400px;\" placeholder=\"place input\" v-model=\"newAction.name\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"ActionKey\">\r\n                    <el-input style=\"width: 400px;\" placeholder=\"place input\" v-model=\"newAction.actionKey\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"备注\">\r\n                    <el-input style=\"width: 400px;\" placeholder=\"place input\" v-model=\"newAction.remark\"></el-input>\r\n                </el-form-item>\r\n            </el-form>\r\n            <template #footer>\r\n              <span class=\"dialog-footer\">\r\n                <el-button @click=\"ActionDetailDialog = false\">关闭</el-button>\r\n                <el-button type=\"primary\" @click=\"addAction(newAction,1)\">确认</el-button>\r\n              </span>\r\n            </template>\r\n        </el-dialog>\r\n        <el-dialog\r\n                v-model=\"updateActionDialog\"\r\n                title=\"添加Action\"\r\n                width=\"50%\"\r\n                center\r\n        >\r\n            <el-form :model=\"updateActionData\" label-width=\"150px\">\r\n                <el-form-item label=\"ActionName\">\r\n                    <el-input style=\"width: 400px;\" placeholder=\"place input\" v-model=\"updateActionData.name\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"ActionKey\">\r\n                    <el-input style=\"width: 400px;\" placeholder=\"place input\" v-model=\"updateActionData.actionKey\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"备注\">\r\n                    <el-input style=\"width: 400px;\" placeholder=\"place input\" v-model=\"updateActionData.remark\"></el-input>\r\n                </el-form-item>\r\n            </el-form>\r\n            <template #footer>\r\n              <span class=\"dialog-footer\">\r\n                <el-button @click=\"updateActionDialog = false\">关闭</el-button>\r\n                <el-button type=\"primary\" @click=\"addAction(updateActionData,1)\">确认</el-button>\r\n              </span>\r\n            </template>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\n    import {Plus,Edit,Delete} from \"@element-plus/icons\";\r\n\r\n    import commonUtils from \"../../utils/commonUtils\";\r\n    import {onBeforeMount, reactive, ref, watch} from \"vue\"\r\n    import request from \"../../utils/request\";\r\n    import webApi from \"../WebAuto/webApi\";\r\n\r\n\r\n    let updateActionDialog = ref(false)\r\n    let updateActionData = reactive({\r\n        id: null,\r\n        name: \"\",\r\n        type: 0,\r\n        actionKey: \"\",\r\n        remark: \"\",\r\n        parentId: 0\r\n    })\r\n\r\n    const headerStyle = ref(commonUtils.tabRowStyle())\r\n    const cellStyle = ref(commonUtils.tabRowStyle(\"left\"))\r\n    // 添加ActionDetail\r\n    let ActionDetailDialog = ref(false)\r\n    const actionFilter = ref(\"\")\r\n    // 当前选中的action\r\n    const currentAction = ref(\"Web\")\r\n    // 点击对应tab-Action\r\n    const ActionClick = (tab,event)=>{\r\n        ActionDetailShow.value = false\r\n        if (tab.props.name ===\"Web\"){\r\n            actionType.value = 0\r\n            init()\r\n        }else if(tab.props.name===\"App\"){\r\n            actionType.value = 1\r\n            init()\r\n        }else if(tab.props.name===\"Api\"){\r\n            actionType.value = 2\r\n            init()\r\n        }else if (tab.props.name===\"前置后置\"){\r\n            actionType.value = 3\r\n            init()\r\n        }\r\n    }\r\n    // actionList\r\n    const actionList = ref([])\r\n    // actionDetailList\r\n    const actionDetailList = ref([])\r\n    const actionType = ref(0)\r\n    // 初始化数据\r\n    const init = (payload)=>{\r\n        if (payload === undefined){\r\n            payload =  {type:actionType.value,parentId:0}\r\n        }\r\n        // request.post(\"/api/action/actionList\", payload).then(res=>{\r\n        //     actionList.value = res.data\r\n        // })\r\n        webApi.getActionList(payload,res=>{\r\n            actionList.value = res.data\r\n        })\r\n    }\r\n    onBeforeMount(()=>{\r\n        init()\r\n    })\r\n    const emptyAction = {\r\n        name:\"\",\r\n        type:actionType.value,\r\n        actionKey:\"\",\r\n        remark:\"\",\r\n        parentId:0\r\n    }\r\n    // 空Action\r\n    let newAction = reactive({\r\n        id:null,\r\n        name:\"\",\r\n        type:actionType.value,\r\n        actionKey:\"\",\r\n        remark:\"\",\r\n        parentId:0\r\n    })\r\n    const parentAction = ref(0);\r\n    // 添加action\r\n    const  addAction = (action,type)=>{\r\n        action.type = actionType.value\r\n        if (type === 0){\r\n            action.parentId = 0\r\n        // }else {\r\n        //     actionDetailList.value.push(action)\r\n        // }\r\n        }\r\n        ActionDetailDialog.value = false\r\n        updateActionDialog.value = false\r\n        const myAction = {\r\n            id:action.id,\r\n            name:action.name,\r\n            type:action.type,\r\n            actionKey:action.actionKey,\r\n            remark:action.remark,\r\n            parentId:action.parentId\r\n        }\r\n        updateAction(myAction)\r\n    }\r\n    // 删除Action type 0 列表  1 详情\r\n    const delAction = (id,action)=>{\r\n        commonUtils.messageBox(()=>request.delete(\"/api/action/delAction/\"+id).then(res=>{\r\n            init()\r\n            if (action.parentId !==0){\r\n                actionDetailList.value.filter((item,i)=>\r\n                    {\r\n                        if (item.id === action.id){\r\n                            actionDetailList.value.splice(i,1)\r\n                        }\r\n                    }\r\n                )\r\n            }\r\n        }),\"删除Action后,用例中所有相关的操作都会失效,确定要删除吗？\")\r\n    }\r\n    // 更新Action\r\n    const updateAction = (action)=>{\r\n        request.post(\"/api/action/update\",action).then(res=>{\r\n            init()\r\n        })\r\n    }\r\n    // ActionDetailShow\r\n    let ActionDetailShow = ref(false)\r\n    // 加载showDetail 数据\r\n    const showDetail = (row)=>{\r\n        ActionDetailShow.value = true\r\n        const  id  = row.id\r\n        parentAction.value = row.id\r\n        const  payload = {type:actionType.value,parentId:id}\r\n        request.post(\"/api/action/actionList\", payload).then(res=>{\r\n            actionDetailList.value = res.data\r\n        })\r\n    }\r\n    const addActionDetail = ()=>{\r\n        newAction.id = null\r\n        newAction.name = \"\"\r\n        newAction.remark = \"\"\r\n        newAction.actionKey = \"\"\r\n        newAction.parentId= parentAction\r\n        ActionDetailDialog.value = true\r\n    }\r\n    // 过滤数据监听\r\n    watch(()=>actionFilter.value,(newVar,oldVar)=>{\r\n        if (newVar!==\"\"){\r\n            actionList.value = actionList.value.filter((item) => item.name.includes(newVar))\r\n        }else {\r\n            init()\r\n        }\r\n    })\r\n    watch(()=>actionType.value,(newVar,oldVar)=>{\r\n        actionType.value = newVar\r\n    })\r\n\r\n</script>\r\n\r\n<style scoped>\r\n    #myAction{\r\n        padding: 20px;\r\n        position: relative;\r\n    }\r\n    .ActionList{\r\n        width: 30%;\r\n        border: 1px solid #ebeef5;\r\n        float: left;\r\n        padding: 5px;\r\n        height: calc(100vh - 200px);\r\n        overflow:auto;\r\n    }\r\n    .ActionDetail{\r\n        padding: 5px;\r\n        width: 70%;\r\n        height: calc(100vh - 200px);\r\n        border: 1px solid #ebeef5;\r\n        float: right;\r\n        overflow:auto;\r\n    }\r\n    .el-tooltip__popper {\r\n        max-width: 800px;\r\n    }\r\n</style>","import script from \"./action.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./action.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./action.vue?vue&type=style&index=0&id=f92b91c8&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\dujun\\\\Desktop\\\\vue\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-f92b91c8\"]])\n\nexport default __exports__"],"sourceRoot":""}