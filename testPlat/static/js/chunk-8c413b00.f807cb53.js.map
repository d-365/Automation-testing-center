{"version":3,"sources":["webpack:///./src/views/WebAuto/webPlanReport.vue?111c","webpack:///./src/views/WebAuto/webPlanReport.vue","webpack:///./src/views/WebAuto/webPlanReport.vue?d894"],"names":["class","style","id","model-value","accordion","name","title","resultDetail","report_planResult","showPie","series_name","legend_data","series_data","series_dataCase","label","value","caseRunResult","length","type","TreeData","labelName","reportInfo","showReportInfo","data","caseDataStep","header-cell-style","commonUtils","tabRowStyle","row-style","default","props","row","assertType","assertValue","prop","scope","width","consoleData","item","i","code","msg","assertConsole","stepId","disabled","assertTypeOptions","key","effect","result","components","planReportTab","ApiTree","responseLine","debugApi_response","caseTree","pieTools","planResultId","watch","$route","created","this","getRouterParam","methods","query","undefined","request","post","then","res","planResult","caseFailedCount","caseSuccessCount","push","webApi","assertResult","caseSteps","resultConsole","reportTabsClick","__exports__","render"],"mappings":"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","file":"static/js/chunk-8c413b00.f807cb53.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./webPlanReport.vue?vue&type=style&index=0&id=2fd35019&scoped=true&lang=css\"","<template>\r\n    <!--计划运行结果详情页-->\r\n    <div class=\"reportDetail\">\r\n        <div class=\"top\">\r\n            <el-collapse model-value=\"first\"  accordion>\r\n                <el-collapse-item name=\"first\">\r\n                    <template #title>\r\n                        <span style=\"font-size: 13px;color: #303133;font-weight: bold\">测试报告概述</span>\r\n                    </template>\r\n                    <div class=\"top-left\">\r\n                        <planReportTab :resultDetail=\"report_planResult\"/>\r\n                    </div>\r\n                    <!--饼图-->\r\n                    <div class=\"top-right\">\r\n                        <div class=\"case_statistics\">\r\n                            <pieTools v-if=\"showPie\" :title=\"'场景用例数据统计'\" :series_name=\"'个数'\" :legend_data=\"legend_data\" :series_data=\"series_dataCase\"/>\r\n                        </div>\r\n                    </div>\r\n                </el-collapse-item>\r\n            </el-collapse>\r\n        </div>\r\n        <div class=\"bottom\">\r\n            <div class=\"bottom-left\">\r\n                <el-tabs>\r\n                    <el-tab-pane >\r\n                        <template #label>\r\n                            <div><el-badge :value=\"caseRunResult.length\" type=\"primary\" class=\"item\">\r\n                                <span>自动化场景用例</span>\r\n                            </el-badge></div>\r\n                        </template>\r\n                        <ApiTree :TreeData=\"caseRunResult\" labelName=\"caseName\" @apiInfo=\"reportInfo\"/>\r\n                    </el-tab-pane>\r\n                </el-tabs>\r\n            </div>\r\n            <div class=\"bottom-right\" :style=\"showReportInfo\">\r\n                <el-tabs>\r\n                    <el-tab-pane label=\"用例信息\">\r\n                        <div id=\"caseDataStep\">\r\n                            <el-table :data=\"caseDataStep\" style=\"width: 100%\" :header-cell-style=\"commonUtils.tabRowStyle('left')\" :row-style=\"commonUtils.tabRowStyle('left')\">\r\n                                <el-table-column type=\"expand\">\r\n                                    <template #default=\"props\">\r\n                                        <div id=\"assert-detail\" v-if=\"props.row.assertType !==null\">\r\n                                            <el-tag >断言方式:{{props.row.assertType}}</el-tag>\r\n                                            <el-tag >断言值:{{props.row.assertValue}}</el-tag>\r\n                                        </div>\r\n\r\n                                    </template>\r\n                                </el-table-column>\r\n                                <el-table-column prop=\"sort\" label=\"步骤ID\">\r\n                                    <template #default=\"scope\">\r\n                                        {{scope.row.id}}\r\n                                    </template>\r\n                                </el-table-column>\r\n                                <el-table-column prop=\"stepDescribe\" label=\"步骤描述\" width=\"180\" />\r\n                                <el-table-column prop=\"actionSummary\" label=\"操作描述\" />\r\n                                <el-table-column prop=\"elementId\" label=\"操作元素\" />\r\n                                <el-table-column prop=\"actionValue\" label=\"操作值\" />\r\n                            </el-table>\r\n                        </div>\r\n                    </el-tab-pane>\r\n                    <el-tab-pane  label=\"用例执行信息\">\r\n                        <div class=\"web-case-console\">\r\n                            <div v-for=\"(item,i) in consoleData\">\r\n                                <div v-if=\"item.code ===0\" style=\"color: #67C23A;font-weight: bold\">{{i+1}}\r\n                                    <el-tag type=\"success\">success</el-tag>\r\n                                </div>\r\n                                <div v-if=\"item.code ===1\" style=\"color: #F56C6C;font-weight: bold\">{{i+1}}\r\n                                    <el-tag type=\"danger\">success</el-tag>\r\n                                </div>\r\n                                <div>{{item.msg}}</div>\r\n                                <div style=\"height: 20px\"></div>\r\n                            </div>\r\n                        </div>\r\n                    </el-tab-pane>\r\n                    <el-tab-pane label=\"断言结果\">\r\n                        <div id=\"webCase-assert\">\r\n                            <el-table :data=\"assertConsole\" style=\"width: 100%\" :header-cell-style=\"commonUtils.tabRowStyle('left')\" :row-style=\"commonUtils.tabRowStyle('left')\">\r\n                                <el-table-column prop=\"stepId\" label=\"步骤ID\">\r\n                                    <template #default=\"scope\">\r\n                                        {{scope.row.stepId}}\r\n                                    </template>\r\n                                </el-table-column>\r\n                                <el-table-column prop=\"assertType\" label=\"断言方式\" >\r\n                                    <template #default=\"scope\">\r\n                                        <el-select disabled v-model=\"scope.row.assertType\">\r\n                                            <el-option\r\n                                                    v-for=\"item in assertTypeOptions\"\r\n                                                    :key=\"item.value\"\r\n                                                    :label=\"item.name\"\r\n                                                    :value=\"item.value\"\r\n                                            />\r\n                                        </el-select>\r\n                                    </template>\r\n                                </el-table-column>\r\n                                <el-table-column prop=\"expectValue\" label=\"期望值\" />\r\n                                <el-table-column prop=\"realityValue\" label=\"断言值\" />\r\n                                <el-table-column prop=\"result\" label=\"断言结果\" >\r\n                                    <template #default=\"scope\">\r\n                                        <el-tag v-show=\"scope.row.result === true\" type=\"success\" effect=\"dark\">{{scope.row.result}}</el-tag>\r\n                                        <el-tag v-show=\"scope.row.result === false\" type=\"danger\" effect=\"dark\">{{scope.row.result}}</el-tag>\r\n                                    </template>\r\n                                </el-table-column>\r\n                                <el-table-column prop=\"msg\" label=\"msg\" />\r\n                            </el-table>\r\n                        </div>\r\n                    </el-tab-pane>\r\n                </el-tabs>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import pieTools from \"../../components/common/pieTools\";\r\n    import caseTree from \"../componets/plan/caseTree\";\r\n    import planReportTab from \"../componets/plan/planReportTab\";\r\n    import ApiTree from \"../componets/plan/ApiTree\";\r\n    import request from \"../../utils/request\";\r\n    import responseLine from \"../componets/api/responseLine\";\r\n    import debugApi_response from \"../componets/api/debug/debugApi_response\";\r\n    import commonUtils from \"../../utils/commonUtils\";\r\n    import {ref} from \"vue\";\r\n    import webApi from \"./webApi\";\r\n    export default {\r\n        name: \"planReport\",\r\n        components:{planReportTab,ApiTree,responseLine,debugApi_response,caseTree,pieTools},\r\n        data() {\r\n            return{\r\n                commonUtils:commonUtils,\r\n                showPie:false,\r\n                series_dataCase:[],\r\n                legend_data:[\"成功\",\"失败\"],\r\n                report_planResult:{},\r\n                planResultId:null,\r\n                caseRunResult:[],\r\n                showReportInfo:\"display: none\",\r\n                // 用例执行结果控制台信息\r\n                consoleData:[],\r\n                // 用例执行步骤信息\r\n                caseDataStep:[],\r\n                assertConsole:[],\r\n                assertTypeOptions :[]\r\n            }\r\n        },\r\n        watch:{\r\n            $route: \"getRouterParam\",\r\n        },\r\n        created() {\r\n            this.getRouterParam()\r\n        },\r\n        methods:{\r\n            // 获取当前路由参数,解析报告\r\n            getRouterParam(){\r\n                this.planResultId = this.$route.query.id\r\n                // 加载当前计划执行报告\r\n                if (this.planResultId!==undefined){\r\n                    request.post(\"/api/planResult/web/report/\"+this.planResultId).then(res=>{\r\n                        this.report_planResult = res.data.planResult\r\n                        this.caseRunResult = res.data.caseRunResult\r\n                        let caseFailedCount = res.data.planResult.caseFailedCount\r\n                        let caseSuccessCount = res.data.planResult.caseSuccessCount\r\n                        this.series_dataCase.push({value:caseSuccessCount, name:'成功'})\r\n                        this.series_dataCase.push({value:caseFailedCount, name:'失败'})\r\n                        this.showPie = true\r\n                    })\r\n                }\r\n                webApi.assertType(res=>{\r\n                    this.assertTypeOptions = res.data\r\n                })\r\n            },\r\n            reportInfo(data){\r\n                this.assertConsole = data.assertResult\r\n                this.caseDataStep = data.caseSteps\r\n                this.consoleData = data.resultConsole\r\n                this.showReportInfo = \"display: block\"\r\n            },\r\n            reportTabsClick(data){\r\n                this.showReportInfo = data\r\n            }\r\n        },\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    #caseDataStep{\r\n        position: relative;\r\n        overflow: auto;\r\n        height: 500px;\r\n    }\r\n    .web-case-console{\r\n        position: relative;\r\n        color: white;\r\n        background-color: #111111;\r\n        height: 550px;\r\n        overflow: auto;\r\n        right: 10px;\r\n        padding: 10px 0 0 10px;\r\n    }\r\n    #webCase-assert{\r\n        position: relative;\r\n        overflow: auto;\r\n        height: 500px;\r\n    }\r\n    .top{\r\n        height:30%;\r\n        width: calc(100vw - 220px);\r\n        overflow: auto;\r\n        margin-left: 10px;\r\n        right: 10px;\r\n        border-bottom: 1px solid #dcdfe6;\r\n    }\r\n    .bottom{\r\n        height: 60%;\r\n        width: calc(100vw - 220px);\r\n        overflow: auto;\r\n        margin-left: 10px;\r\n        padding-top: 10px;\r\n    }\r\n    .top-left{\r\n        float: left;\r\n        height: 100%;\r\n        width: 30%;\r\n        overflow: auto;\r\n    }\r\n    .top-right{\r\n        float: left;\r\n        height: 100%;\r\n        width: 70%;\r\n        overflow: auto;\r\n    }\r\n    .bottom-left{\r\n        float: left;\r\n        height: 100%;\r\n        width: 30%;\r\n        overflow: auto;\r\n\r\n    }\r\n    .bottom-right{\r\n        float: left;\r\n        height: 100%;\r\n        width: 70%;\r\n        overflow: auto;\r\n    }\r\n    .item {\r\n        margin-top: 10px;\r\n        margin-right: 40px;\r\n    }\r\n    #assert-detail{\r\n        text-align: center;\r\n    }\r\n\r\n</style>","import { render } from \"./webPlanReport.vue?vue&type=template&id=2fd35019&scoped=true\"\nimport script from \"./webPlanReport.vue?vue&type=script&lang=js\"\nexport * from \"./webPlanReport.vue?vue&type=script&lang=js\"\n\nimport \"./webPlanReport.vue?vue&type=style&index=0&id=2fd35019&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\dujun\\\\Desktop\\\\vue\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2fd35019\"]])\n\nexport default __exports__"],"sourceRoot":""}