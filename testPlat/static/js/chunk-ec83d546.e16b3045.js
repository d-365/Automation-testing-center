(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ec83d546"],{c7e8:function(e,t,o){"use strict";var c=o("7a23"),n={class:"left",style:{width:"100%"}},r={class:"categoryBody"},a={class:"custom-tree-node",style:{width:"90%"}},l={key:0},i={key:1,style:{color:"#64ABF5"}},d={key:0,style:{"font-weight":"bold","font-size":"14px"}},u={key:1,style:{color:"rgb(224, 141, 73)","font-weight":"bold","font-size":"14px"}},b={key:2,style:{color:"rgb(81, 141, 238)","font-weight":"bold","font-size":"14px"}},f={key:3,style:{color:"rgb(81, 141, 238)","font-weight":"bold","font-size":"14px"}},s={style:{"font-weight":"bold","font-size":"15px",color:"#666666"}},O={key:2};function j(e,t,o,j,p,m){var h=Object(c["resolveComponent"])("RefreshRight"),y=Object(c["resolveComponent"])("el-icon"),C=Object(c["resolveComponent"])("el-input"),V=Object(c["resolveComponent"])("Files"),N=Object(c["resolveComponent"])("Coffee"),x=Object(c["resolveComponent"])("el-button"),g=Object(c["resolveComponent"])("List"),w=Object(c["resolveComponent"])("el-tree");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",n,[Object(c["createElementVNode"])("div",null,[Object(c["createVNode"])(C,{modelValue:e.filterText,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.filterText=t}),placeholder:"过滤分类名称",style:{width:"100%"}},{append:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(y,{size:25,style:{color:"#64ABF5"},onClick:m.load},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(h)]})),_:1},8,["onClick"])]})),_:1},8,["modelValue"])]),Object(c["createElementVNode"])("div",r,[Object(c["createVNode"])(w,{ref:"tree",data:e.categoryList,props:e.defaultProps,"node-key":"id","default-checked-keys":o.selectedID,"expand-on-click-node":!1,"filter-node-method":m.filterNode,"show-checkbox":"",onCheckChange:m.treeCheckChange},{default:Object(c["withCtx"])((function(e){var t=e.node,o=e.data;return[Object(c["createElementVNode"])("div",a,[0===o.sourceType?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",l,[Object(c["createVNode"])(y,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(V)]})),_:1}),Object(c["createTextVNode"])(" "+Object(c["toDisplayString"])(t.label),1)])):Object(c["createCommentVNode"])("",!0),1===o.sourceType?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",i,[Object(c["createVNode"])(y,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(N)]})),_:1}),Object(c["createVNode"])(x,{type:"text"},{default:Object(c["withCtx"])((function(){return["POST"===o.method?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",d,Object(c["toDisplayString"])(o.method),1)):"GET"===o.method?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",u,Object(c["toDisplayString"])(o.method),1)):"DELETE"===o.method?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",b,Object(c["toDisplayString"])(o.method),1)):(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",f,Object(c["toDisplayString"])(o.method),1))]})),_:2},1024),Object(c["createVNode"])(x,{type:"text"},{default:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("span",s,Object(c["toDisplayString"])(t.label),1)]})),_:2},1024)])):Object(c["createCommentVNode"])("",!0),2===o.sourceType?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",O,[Object(c["createVNode"])(y,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(g)]})),_:1}),Object(c["createVNode"])(x,{style:{"font-weight":"bold","font-size":"15px",color:"#666666"},type:"text"},{default:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("span",null,Object(c["toDisplayString"])(t.label),1)]})),_:2},1024)])):Object(c["createCommentVNode"])("",!0)])]})),_:1},8,["data","props","default-checked-keys","filter-node-method","onCheckChange"])])])}var p=o("5530"),m=(o("4de4"),o("d3b7"),o("b0c0"),o("159b"),o("a1e9")),h=o("919b"),y=o("50e4"),C=o("bfab"),V=o("e7de"),N=o("b775"),x={name:"category",components:{RefreshRight:h["a"],Files:y["a"],Coffee:C["a"],List:V["a"]},setup:function(){var e=Object(m["p"])({category_drawer:!1,case_drawer:!1,categoryList:[],defaultProps:{children:"children",label:"name"},filterText:""});return Object(p["a"])({},Object(m["z"])(e))},props:{checkedApi:Array,selectedID:{default:[]}},watch:{filterText:function(e){this.$refs.tree.filter(e)}},data:function(){return{finalCheckApi:[]}},created:function(){this.load()},methods:{load:function(){var e=this;N["a"].get("/api/categoryApi/list").then((function(t){e.categoryList=t.data}))},filterNode:function(e,t){return!e||-1!==t.name.indexOf(e)},treeCheckChange:function(){var e=this;this.finalCheckApi=[];var t=this.$refs.tree.getCheckedNodes();t.forEach((function(t,o){2===t.sourceType&&e.finalCheckApi.push(t)})),this.$emit("finalCheckApi",this.finalCheckApi)}}},g=o("d959"),w=o.n(g);const k=w()(x,[["render",j]]);t["a"]=k},cd71:function(e,t,o){"use strict";var c=o("7a23"),n={class:"categoryList"},r={style:{width:"100%"}},a=Object(c["createTextVNode"])(" 新增分类 "),l={style:{"background-color":"#d5ebfc","padding-left":"10px"}},i=Object(c["createTextVNode"])("全部分类"),d={class:"categoryBody",style:{height:"80%"}},u={class:"custom-tree-node",style:{width:"90%"}},b=["onClick"],f={key:0},s={key:1},O={style:{"margin-left":"5px","font-weight":"bold","font-size":"13px",color:"#666666"}},j={style:{float:"right","padding-top":"10px"}},p=Object(c["createElementVNode"])("span",{class:"el-dropdown-link",style:{"font-weight":"bold",color:"#64ABF5"}},"...",-1),m=Object(c["createTextVNode"])("新建文件夹"),h=Object(c["createTextVNode"])("编辑"),y=Object(c["createTextVNode"])("删除"),C=Object(c["createTextVNode"])("新建用例"),V={style:{"margin-top":"20px"}},N=Object(c["createTextVNode"])("取消"),x=Object(c["createTextVNode"])("保存"),g=Object(c["createTextVNode"])("取消"),w=Object(c["createTextVNode"])("保存");function k(e,t,o,k,v,_){var B=Object(c["resolveComponent"])("el-button"),E=Object(c["resolveComponent"])("el-input"),F=Object(c["resolveComponent"])("Files"),T=Object(c["resolveComponent"])("el-icon"),D=Object(c["resolveComponent"])("Document"),z=Object(c["resolveComponent"])("el-dropdown-item"),I=Object(c["resolveComponent"])("el-popconfirm"),A=Object(c["resolveComponent"])("el-dropdown-menu"),L=Object(c["resolveComponent"])("el-dropdown"),S=Object(c["resolveComponent"])("DeleteFilled"),R=Object(c["resolveComponent"])("DocumentCopy"),U=Object(c["resolveComponent"])("el-tree"),P=Object(c["resolveComponent"])("el-form-item"),$=Object(c["resolveComponent"])("el-form"),H=Object(c["resolveComponent"])("el-drawer"),G=Object(c["resolveComponent"])("el-dialog");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",n,[Object(c["createElementVNode"])("div",r,[Object(c["createVNode"])(E,{modelValue:e.filterText,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.filterText=t}),placeholder:"过滤分类名称"},{append:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(B,{onClick:t[0]||(t[0]=function(t){return e.category_drawer=!0})},{default:Object(c["withCtx"])((function(){return[a]})),_:1})]})),_:1},8,["modelValue"])]),Object(c["createElementVNode"])("div",l,[Object(c["createVNode"])(T,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(F)]})),_:1}),Object(c["createVNode"])(B,{type:"text",onClick:t[2]||(t[2]=function(e){return _.load()}),style:{"padding-left":"10px","font-size":"15px"}},{default:Object(c["withCtx"])((function(){return[i]})),_:1})]),Object(c["createElementVNode"])("div",d,[Object(c["createVNode"])(U,{ref:"tree",data:e.categoryList,props:e.defaultProps,"node-key":"id","filter-node-method":_.filterNode},{default:Object(c["withCtx"])((function(e){var t=e.node,o=e.data;return[Object(c["createElementVNode"])("div",u,[Object(c["createElementVNode"])("div",{style:{float:"left","padding-top":"5px"},onClick:function(e){return _.case_Info(o)}},[0===o.type?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",f,[Object(c["createVNode"])(T,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(F)]})),_:1}),Object(c["createTextVNode"])(" "+Object(c["toDisplayString"])(t.label),1)])):Object(c["createCommentVNode"])("",!0),1===o.type?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",s,[Object(c["createElementVNode"])("span",null,[Object(c["createVNode"])(T,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(D)]})),_:1})]),Object(c["createElementVNode"])("span",null,[Object(c["createVNode"])(B,{type:"text"},{default:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("span",O,Object(c["toDisplayString"])(t.label),1)]})),_:2},1024)])])):Object(c["createCommentVNode"])("",!0)],8,b),Object(c["createElementVNode"])("div",j,[0===o.type?(Object(c["openBlock"])(),Object(c["createBlock"])(L,{key:0},{dropdown:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(A,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(z,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(B,{onClick:function(e){return _.createFolder(t,o)},type:"text"},{default:Object(c["withCtx"])((function(){return[m]})),_:2},1032,["onClick"])]})),_:2},1024),Object(c["createVNode"])(z,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(B,{onClick:function(e){return _.editCategory(t,o)},type:"text"},{default:Object(c["withCtx"])((function(){return[h]})),_:2},1032,["onClick"])]})),_:2},1024),Object(c["createVNode"])(z,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(I,{title:"确认删除吗?",onConfirm:function(e){return _.categoryRemove(t,o)}},{reference:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(B,{type:"text"},{default:Object(c["withCtx"])((function(){return[y]})),_:1})]})),_:2},1032,["onConfirm"])]})),_:2},1024),Object(c["createVNode"])(z,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(B,{onClick:function(e){return _.createCase(t,o)},type:"text"},{default:Object(c["withCtx"])((function(){return[C]})),_:2},1032,["onClick"])]})),_:2},1024)]})),_:2},1024)]})),default:Object(c["withCtx"])((function(){return[p]})),_:2},1024)):(Object(c["openBlock"])(),Object(c["createBlock"])(L,{key:1},{default:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("span",V,[Object(c["createVNode"])(I,{title:"确认删除吗?",onConfirm:function(e){return _.categoryRemove(t,o)}},{reference:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(T,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(S)]})),_:1})]})),_:2},1032,["onConfirm"]),Object(c["createVNode"])(T,{onClick:function(e){return _.copyCase(t,o)}},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(R)]})),_:2},1032,["onClick"])])]})),_:2},1024))])])]})),_:1},8,["data","props","filter-node-method"])]),Object(c["createVNode"])(H,{modelValue:e.category_drawer,"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.category_drawer=t}),title:"新增分类","with-header":!1},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])($,{model:v.categoryForm,"label-width":"120px"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(P,{label:"分类名称"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(E,{modelValue:v.categoryForm.categoryName,"onUpdate:modelValue":t[3]||(t[3]=function(e){return v.categoryForm.categoryName=e}),placeholder:"请输入分类名称"},null,8,["modelValue"])]})),_:1}),Object(c["createVNode"])(P,{label:"备注"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(E,{modelValue:v.categoryForm.remark,"onUpdate:modelValue":t[4]||(t[4]=function(e){return v.categoryForm.remark=e}),autosize:{minRows:2,maxRows:4},type:"textarea",placeholder:"备注"},null,8,["modelValue"])]})),_:1}),Object(c["createVNode"])(P,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(B,{onClick:t[5]||(t[5]=function(t){return e.category_drawer=!1})},{default:Object(c["withCtx"])((function(){return[N]})),_:1}),Object(c["createVNode"])(B,{type:"primary",onClick:t[6]||(t[6]=function(e){return _.saveCategory()})},{default:Object(c["withCtx"])((function(){return[x]})),_:1})]})),_:1})]})),_:1},8,["model"])]})),_:1},8,["modelValue"]),Object(c["createVNode"])(G,{title:"新增用例",width:"30%",modelValue:e.case_drawer,"onUpdate:modelValue":t[12]||(t[12]=function(t){return e.case_drawer=t})},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])($,{ref:"form",model:v.categoryForm,"label-width":"120px"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(P,{label:"接口名称"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(E,{modelValue:v.categoryForm.categoryName,"onUpdate:modelValue":t[8]||(t[8]=function(e){return v.categoryForm.categoryName=e}),placeholder:"请输入接口名称"},null,8,["modelValue"])]})),_:1}),Object(c["createVNode"])(P,{label:"备注"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(E,{modelValue:v.categoryForm.remark,"onUpdate:modelValue":t[9]||(t[9]=function(e){return v.categoryForm.remark=e}),placeholder:"备注"},null,8,["modelValue"])]})),_:1}),Object(c["createVNode"])(P,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(B,{onClick:t[10]||(t[10]=function(t){return e.caseVisible=!1})},{default:Object(c["withCtx"])((function(){return[g]})),_:1}),Object(c["createVNode"])(B,{type:"primary",onClick:t[11]||(t[11]=function(e){return _.saveCategory(1)})},{default:Object(c["withCtx"])((function(){return[w]})),_:1})]})),_:1})]})),_:1},8,["model"])]})),_:1},8,["modelValue"])])}var v=o("5530"),_=(o("4de4"),o("d3b7"),o("c740"),o("a434"),o("a1e9")),B=o("50e4"),E=Object(c["defineComponent"])({name:"DeleteFilled"});const F={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},T=Object(c["createVNode"])("path",{fill:"currentColor",d:"M352 192V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64H96a32 32 0 0 1 0-64h256zm64 0h192v-64H416v64zM192 960a32 32 0 0 1-32-32V256h704v672a32 32 0 0 1-32 32H192zm224-192a32 32 0 0 0 32-32V416a32 32 0 0 0-64 0v320a32 32 0 0 0 32 32zm192 0a32 32 0 0 0 32-32V416a32 32 0 0 0-64 0v320a32 32 0 0 0 32 32z"},null,-1);function D(e,t,o,n,r,a){return Object(c["openBlock"])(),Object(c["createBlock"])("svg",F,[T])}E.render=D,E.__file="packages/components/DeleteFilled.vue";var z=E,I=o("bc95"),A=o("218b"),L=o("b775"),S={name:"categoryList",inject:["reload"],components:{Files:B["a"],DeleteFilled:z,DocumentCopy:I["a"],Document:A["a"]},props:{},setup:function(){var e=Object(_["p"])({category_drawer:!1,case_drawer:!1,categoryList:[],defaultProps:{children:"children",label:"categoryName"},filterText:""});return Object(v["a"])({},Object(_["z"])(e))},data:function(){return{categoryForm:{parentId:0},caseInfoData:{id:"",caseType:"",caseGrade:"",casePerson:"",loopCount:1,params:[],allParams:[],apiId:[]}}},created:function(){this.load()},watch:{filterText:function(e){this.$refs.tree.filter(e)}},methods:{saveCategory:function(e){1===e&&(this.categoryForm.type=1),L["a"].post("/api/caseCategory/add",this.categoryForm).then((function(e){})),this.category_drawer=!1,this.categoryForm={},this.load(),this.reload()},createFolder:function(e,t){this.category_drawer=!0,this.categoryForm.parentId=t.id},createCase:function(e,t){this.case_drawer=!0,this.categoryForm.parentId=t.id},load:function(){var e=this;L["a"].get("/api/caseCategory/list").then((function(t){e.categoryList=t.data}))},filterNode:function(e,t){return!e||-1!==t.categoryName.indexOf(e)},editCategory:function(e,t){this.category_drawer=!0,this.categoryForm=t},categoryRemove:function(e,t){var o=e.parent,c=o.data.children||o.data,n=c.findIndex((function(e){return e.id===t.id}));c.splice(n,1),null!=t.id&&L["a"].delete("/api/caseCategory/delete/"+t.id).then((function(e){}))},copyCase:function(e,t){},case_Info:function(e){var t=this,o={categoryId:e.id};L["a"].post("/api/case/info",o).then((function(e){t.caseInfoData=e.data})),this.$emit("category",e),this.$emit("caseInfo",this.caseInfoData)}}},R=o("d959"),U=o.n(R);const P=U()(S,[["render",k]]);t["a"]=P}}]);
//# sourceMappingURL=chunk-ec83d546.e16b3045.js.map